{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Add New Course</title>

    <link rel="stylesheet" href="{% static 'module_builder/add_new_course.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
</head>

<body>

<div class="main-container">

    <!-- FORM START -->
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}

        <!-- LEFT SECTION -->
        <div class="course-box">
            <h2>Add New Course</h2>

            <label>Course Title:</label>
            <input type="text" name="title" placeholder="Enter course title" required>

            <label>Description:</label>
            <textarea name="description" placeholder="Enter course description" required></textarea>

            <label>Price:</label>
            <input type="number" name="price" placeholder="Enter price" required>

            <!-- CATEGORY -->
            <label class="form-label fw-bold">Category:</label>
            <select name="category" id="categorySelect" class="form-control" required>
                <option value="" disabled selected>Select Category</option>
                <option value="business">Business</option>
                <option value="design">Design</option>
                <option value="music">Music</option>
                <option value="programming">Programming</option>
                <option value="others">Others</option>
            </select>

            <!-- OTHER CATEGORY FIELD -->
            <div id="otherCategoryDiv" class="mt-3" style="display:none;">
                <label class="fw-bold">Enter Other Category:</label>
                <input
                    type="text"
                    id="otherCategoryInput"
                    name="other_category"
                    class="form-control"
                    placeholder="Type your category here"
                />
            </div>
        </div>

        <!-- MODULE SECTION -->
        <div class="module-box">
            <h2>Modules</h2>

            <label>Module Title:</label>
            <input type="text" name="module_title" placeholder="Enter module title">

            <label>Description:</label>
            <textarea name="module_description" placeholder="Enter module description"></textarea>

            <div>
                <button id="btnAddLecture" type="button" class="btn-lecture">+ Add Lecture</button><br>
                <button id="btnSaveModule" type="button" class="btn-savemodule">Save Module</button>
            </div>
        </div>

        <!-- SAVE BUTTON -->
        <div class="button-row">
            <button id="btnAddModule" type="button" class="btn-module">+ Add Module</button><br>
            <button id="btnSaveCourse" type="submit" class="btn-save">Save Course</button>
        </div>

    </form>
    <!-- FORM END -->

</div>

<script>
    // Show custom category input
    document.getElementById("categorySelect").addEventListener("change", function () {
        const otherDiv = document.getElementById("otherCategoryDiv");

        if (this.value === "others") {
            otherDiv.style.display = "block";
        } else {
            otherDiv.style.display = "none";
            document.getElementById("otherCategoryInput").value = "";
        }
    });
</script>

</body>
</html>
