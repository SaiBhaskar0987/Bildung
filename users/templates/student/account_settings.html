{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Account Settings</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="{% static 'student_account_setting/style.css' %}">

</head>

<body class="bg-light"> <!-- Light background for body -->


<div class="d-flex justify-content-between align-items-center p-3 bg-white shadow-sm"> <!-- Header Container -->
    <a href="{% url 'student_dashboard' %}" class="text-decoration-none text-dark"> <!-- Logo and Home Link -->
        <h3 class="fw-bold m-0">Bildung</h3>
    </a>

    <div class="d-flex align-items-center gap-3"> <!-- User Info and Dropdown -->
        <h5 class="m-0">Hello, {{ user.first_name }} {{ user.last_name }}</h5> <!-- Greeting -->

        <div class="dropdown"> <!-- Profile Dropdown -->
            <button class="btn rounded-circle shadow" style="background:gray;color:white;width:45px;height:45px;" data-bs-toggle="dropdown">
                {{ user.username|first|upper }}
            </button> <!-- Dropdown Toggle -->

            <ul class="dropdown-menu dropdown-menu-end"> <!-- Dropdown Menu -->
                <li><a class="dropdown-item" href="{% url 'profile_view' %}">Profile</a></li>
                <li><a class="dropdown-item" href="{% url 'student:my_courses' %}">My Courses</a></li>
                <li><a class="dropdown-item" href="{% url 'student_my_activity' %}">My activity</a></li>
                <li><a class="dropdown-item" href="{% url 'student:student_upcoming_classes' %}">My_schedules</a></li>
                <li><a class="dropdown-item" href="{% url 'student:my_certificates' %}">My Certificates</a></li>
                <li><a class="dropdown-item" href="{% url 'student_notifications' %}">Notifications</a></li>
                <li><a class="dropdown-item" href="#">Payments</a></li>
                <li><a class="dropdown-item" href="#">Help and Support</a></li>
                <li><a class="dropdown-item" href="{% url 'account_settings' %}">Account Settings</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item text-danger" href="{% url 'logout_view' %}">Logout</a></li>
            </ul>
        </div>
    </div>
</div>

<div class="container py-4"> <!-- Main Container -->

    <div class="settings-header text-center"> <!-- Header Section -->
        <h1><i class="fas fa-cog"></i> Account Settings</h1>
        <p>Manage your personal information, security, and privacy</p>
    </div>

    <div class="settings-container my-5"> <!-- Settings Card Container -->
        <div class="row"> <!-- Row for layout -->

            
            <div class="col-md-3"> <!-- Left Navigation Column -->
                <div class="settings-card"> <!-- Navigation Card -->
                    <div class="settings-section"> <!-- Navigation Section -->
                        <div class="nav flex-column nav-pills"> <!-- Vertical Pills Navigation -->
                            <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#security">Security</button>
                            <button class="nav-link" data-bs-toggle="pill" data-bs-target="#notifications">Notifications</button>
                            <button class="nav-link" data-bs-toggle="pill" data-bs-target="#privacy">Privacy</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RIGHT CONTENT -->
            <div class="col-md-9"> <!-- Right Content Column -->

                <div class="tab-content"> <!-- Tab Content Container -->

                
                    <div class="tab-pane fade show active" id="security"> <!-- Security Tab Content -->
                        <div class="settings-card"> <!-- Security Card -->
                            <div class="settings-section"> <!-- Security Section -->

                                <h4 class="mb-4">Change Password</h4>

                                <form method="post"> <!-- Change Password Form -->
                                    {% csrf_token %}

                                    <label>Current Password</label>
                                    <input type="password" name="old_password" class="form-control mb-3">

                                    <label>New Password</label>
                                    <input type="password" name="new_password1" class="form-control mb-3">

                                    <label>Confirm New Password</label>
                                    <input type="password" name="new_password2" class="form-control mb-3">

                                    <button type="submit" name="change_password" class="btn btn-primary">Update Password</button>
                                </form>

                            </div>
                        </div>
                    </div>

                    
                    <div class="tab-pane fade" id="notifications"> <!-- Notification Tab Content -->
                        <div class="settings-card"> <!-- Notification Card -->
                            <div class="settings-section"> <!-- Notification Section -->

                                <h4>Notification Preferences</h4>

                                <form method="post"> <!-- Notification Preferences Form -->
                                    {% csrf_token %}

                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" name="email_notifications" checked>
                                        <label>Email Notifications</label>
                                    </div>

                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" name="course_updates" checked>
                                        <label>Course Updates</label>
                                    </div>

                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" name="enrol_updates" checked>
                                        <label>Enroll Update</label>
                                    </div>

                                    <button type="submit" name="update_notifications" class="btn btn-primary">Save Preferences</button>
                                </form>

                            </div>
                        </div>
                    </div>

                    
                    <div class="tab-pane fade" id="privacy"> <!-- Privacy Tab Content -->
                        <div class="settings-card"> <!-- Privacy Card -->
                            <div class="settings-section"> <!-- Privacy Section -->
                                <h4>Privacy Settings</h4>
                                <p class="text-muted">More features coming soon...</p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> <!-- Bootstrap JS -->

</body>
</html>